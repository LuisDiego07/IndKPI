# IndKPIs  
**Performance Indicators for Industrial Production**

IndKPIs is an industrial telemetry and analytics platform designed to collect, process, and analyze machine data, generating **KPIs and performance indicators** for manufacturing environments.

This project simulates real-world industrial telemetry, processes operational data through a Medallion data architecture, and exposes metrics via analytical models and dashboards.

---

# ğŸš— Release 1 â€” Automotive Industry

The first release focuses on the automotive manufacturing sector, simulating production lines with automated machines such as:

- CNC machines  
- Welding robots  
- Hydraulic presses  

The simulation models realistic shop-floor behavior, including:

- Production cycles  
- Downtime and failures  
- Quality losses  
- Energy consumption  
- Machine performance degradation  

The goal is to represent real industrial dynamics and calculate manufacturing KPIs such as **OEE (Overall Equipment Effectiveness)**.

---

# ğŸ—ï¸ Data Architecture â€” Medallion Pattern

This project follows the **Medallion Architecture**, a widely adopted industry standard for analytical data platforms.

## ğŸŸ¤ Bronze Layer â€” Raw Data

- Ingests raw telemetry events generated by the simulator  
- Minimal validation and type coercion  
- Stored as **Parquet files**  
- Represents the immutable source of truth  

**Flow:** JSON â†’ Bronze Parquet  

---

## âšª Silver Layer â€” Enriched Data

- Normalizes and cleans telemetry data  
- Adds operational flags (runtime, downtime, failures)  
- Calculates intermediate metrics (good units, operating time, stop categories)  
- Structured for analytical aggregation  

Stored as **Parquet files**, optimized for transformations and KPI computation.

**Flow:** Bronze â†’ Silver  

---

## ğŸŸ¡ Gold Layer â€” Analytics & KPIs

The Gold layer exposes finalized KPIs and supports two complementary output paths:

---

### 1ï¸âƒ£ Gold as Parquet (Open & Reproducible)

- Gold datasets persisted as **Parquet files**
- Fully reproducible by anyone cloning the repository
- Enables local validation and exploration
- Guarantees transparency of calculations and metrics

This path ensures that analytical results can be reproduced without requiring external infrastructure.

**Execution:**
```bash
python run_gold_oee_parquet.py
```

### 2ï¸âƒ£ Gold as Star Schema (Analytical Database)

The Gold dataset is also modeled as a Star Schema, composed of:

Fact table: OEE metrics

Dimension tables: machines, dates

Designed to be stored in a PostgreSQL analytical database, optimized for BI tools and dashboards.

The repository includes:

SQL DDL scripts for schema and table creation

SQL DML scripts for dimension and fact population

Analytical SQL queries used in dashboards

âš ï¸ Direct access to the PostgreSQL database is not publicly available.

Instead, insights are shared via a public dashboard while maintaining enterprise-style database access control.

### ğŸ¯ Project Goals

Demonstrate an industrial-grade data architecture

Apply real manufacturing KPIs (OEE, availability, quality)

Showcase best practices in data engineering

Provide a reproducible, auditable and realistic analytics pipeline

Simulate enterprise-level analytical modeling

### ğŸ“¦ Project Structure
IndKPIs/
â””â”€â”€ Automotive/
    â”œâ”€â”€ data_simulator/
    â”‚   â”œâ”€â”€ machine.py
    â”‚   â”œâ”€â”€ simulator.py
    â”‚   â”œâ”€â”€ run_simulator.py
    â”‚   â””â”€â”€ telemetry_events.json
    â”‚
    â”œâ”€â”€ kpi_engine/
    â”‚   â”œâ”€â”€ bronze_loader.py
    â”‚   â”œâ”€â”€ silver_transformer.py
    â”‚   â”œâ”€â”€ gold_oee.py
    â”‚
    â”‚   â”œâ”€â”€ run_bronze.py
    â”‚   â”œâ”€â”€ run_silver.py
    â”‚   â”œâ”€â”€ run_gold_oee_parquet.py
    â”‚   â”œâ”€â”€ run_gold_oee_postgres.py
    â”‚
    â”‚   â””â”€â”€ data_lake/
    â”‚       â”œâ”€â”€ bronze/
    â”‚       â”œâ”€â”€ silver/
    â”‚       â””â”€â”€ gold/
    â”‚
    â”œâ”€â”€ sql/
    â”‚   â””â”€â”€ star_schema/
    â”‚       â”œâ”€â”€ ddl/
    â”‚       â”‚   â”œâ”€â”€ create_schema.sql
    â”‚       â”‚   â”œâ”€â”€ dim_date.sql
    â”‚       â”‚   â”œâ”€â”€ dim_machine.sql
    â”‚       â”‚   â””â”€â”€ fact_oee.sql
    â”‚       â”‚
    â”‚       â”œâ”€â”€ dml/
    â”‚       â”‚   â”œâ”€â”€ load_dim_date.sql
    â”‚       â”‚   â”œâ”€â”€ load_dim_machine.sql
    â”‚       â”‚   â””â”€â”€ load_fact_oee.sql
    â”‚       â”‚
    â”‚       â””â”€â”€ analytics/
    â”‚           â”œâ”€â”€ oee_by_machine.sql
    â”‚           â”œâ”€â”€ oee_by_day.sql
    â”‚           â””â”€â”€ losses_breakdown.sql
    â”‚
    â””â”€â”€ requirements.txt